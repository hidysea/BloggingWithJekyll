---
layout: article
permalink: /learn_jekyll
title: 每个人都应该有一个Jekyll博客 --- Jekyll详解
---
<script>
    if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');

    window.addEventListener('load', function(event) {
        setTimeout(function () {
            hab('#sup-post-2');
            hab('#gd1-inner');
        }, 1000);
    });
</script>

<div id="container">
    <div id="container-inner">

        <div id="content">
            <div id="content-inner">

                <div id="alpha">
                    <div id="alpha-inner">

                        <div id="entry-1737" class="entry-asset asset hentry">

                            <!--正文-->
                            <article class="hentry">
                                <h1 id="page-title" class="asset-name entry-title">{{ page.title }}</h1>
                                <div class="asset-meta">

                                    <p>作者： <a class="fn url" href="{{ site.baseurl }}/">hidysea</a></p>
                                    <p>日期： <abbr class="published" title="2015-08-30T18:32:38+08:00">2015年8月30日</abbr></p>
                                    <p>来源： <a href="http://jekyllrb.com/docs/home/">Jekyll文档</a> 、 <a href="http://jekyllcn.com/docs/home/">Jekyll中文文档</a> 以及 <a href="http://docs.shopify.com/themes/liquid-basics">Liquid文档</a></p>

                                </div>
                                <div class="asset-content entry-content" id="main-content">

                                    <p><strong>Jekyll 究竟是什么？</strong></p>
                                    <p>官方解释如下：</p>
                                    <blockquote>
                                        <p><strong>Jekyll is a simple, blog-aware, static site generator in Ruby.</strong></p>
                                        <p>Jekyll 是一个简单的博客形态的静态站点生产机器。</p>
                                        <p><strong>Transform your plain text into static websites and blogs.</strong></p>
                                        <p>将纯文本转换为静态博客网站。</p>
                                    </blockquote>

                                    <p>Jekyll 是一个简单的博客形态的静态站点生产机器。它有一个模版目录，其中包含原始文本格式的文档，通过一个转换器（如 <a href="http://daringfireball.net/projects/markdown/">Markdown</a>）和我们的 <a href="https://github.com/Shopify/liquid/wiki">Liquid</a> 渲染器转化成一个完整的可发布的静态网站，你可以发布在任何你喜爱的服务器上。Jekyll 也可以运行在 <a href="http://pages.github.com/">GitHub Page</a> 上，也就是说，你可以使用 GitHub 的服务来搭建你的项目页面、博客或者网站，而且是<strong>完全免费</strong>的。</p>

                                    <p><strong>Jekyll 快速指南</strong></p>
                                    <p>以下是一个获取最简单 Jekyll 模板并生成静态页面并运行的例子。</p>
                                    <figure class="highlight"><pre><code class="language-bash" data-lang="bash">~ <span class="nv">$ </span>gem install jekyll
~ <span class="nv">$ </span>jekyll new myblog
~ <span class="nv">$ </span><span class="nb">cd </span>myblog
~/myblog <span class="nv">$ </span>jekyll serve
<span class="c"># =&gt; Now browse to http://localhost:4000</span></code></pre></figure>
                                    <p>如果你希望把 jekyll 安装到当前目录，你可以运行 <code class="highlighter-rouge">jekyll new .</code> 来代替。如果当前目录非空，你还需要增添 <code class="highlighter-rouge">--force</code> 参数，所以命令应为 <code class="highlighter-rouge">jekyll new . --force</code>。</p>
                                    <p>就是这么简单。从现在开始，你可以通过创建文章、改变头信息来控制模板和输出、修改 Jekyll 设置来使你的站点变得更有趣～</p>

                                    <p id="install"><strong>Jekyll 安装</strong></p>
                                    <p>安装 Jekyll 相当简单，但是你得先做好一些准备工作。开始前你需要确保你在系统里已经有如下配置。</p>
                                    <ul>
                                        <li>
                                            <a href="http://www.ruby-lang.org/en/downloads/">Ruby</a>（including development headers, Jekyll 2 需要 v1.9.3 及以上版本，Jekyll 3 需要 v2 及以上版本）</li>
                                        <li><a href="http://rubygems.org/pages/download">RubyGems</a></li>
                                        <li>Linux, Un ix, or Mac OS X</li>
                                        <li>
                                            <a href="http://nodejs.org">NodeJS</a>, 或其他 JavaScript 运行环境（Jekyll 2 或更早版本需要 CoffeeScript 支持）。</li>
                                        <li>
                                            <a href="https://www.python.org/downloads/">Python 2.7</a>（Jekyll 2 或更早版本）</li>
                                    </ul>

                                    <p><strong>用 RubyGems 安装 Jekyll</strong></p>
                                    <p>安装 Jekyll 的最好方式就是使用
                                        <a href="http://rubygems.org/pages/download">RubyGems</a>. 你只需要打开终端输入以下命令就可以安装了：</p>
                                    <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>gem install jekyll</code></pre></figure>
                                    <p>所有的 Jekyll 的 gem 依赖包都会被自动安装，所以你完全不用去担心。如果你在安装中碰到了问题，请<a href="https://github.com/jekyll/jekyll/issues/new">report an issue</a> 那么 Jekyll 社区就会帮助你解决问题了。</p>
                                    <!--<p>注意：</p>-->
                                    <!--<blockquote>-->
                                        <!--<p>-->
                                            <!--如果你是Mac用户，你就需要安装 Xcode 和 Command-Line Tools了。下载方式：-->
                                            <!--<code>Preferences → Downloads → Components</code>。-->
                                        <!--</p>-->
                                    <!--</blockquote>-->
                                    <div class="note info">
                                        <h5>安装 Xcode Command-Line Tools</h5>
                                        <p>
                                            如果你是Mac用户，你就需要安装 Xcode 和 Command-Line Tools了。下载方式：
                                            <code>Preferences → Downloads → Components</code>。
                                        </p>
                                    </div>

                                    <p><strong>Jekyll 基本用法</strong></p>
                                    <p>安装了 Jekyll 的 Gem 包之后，就可以在命令行中使用 Jekyll 命令了。有以下这些用法：</p>
                                    <!--<blockquote>-->
                                        <!--<p><span class="gp">$ </span>jekyll build</p>-->
                                        <!--<p><span class="c"># =&gt; 当前文件夹中的内容将会生成到 ./_site 文件夹中。</span></p>-->
                                        <!--<p><span class="gp">$ </span>jekyll build &#45;&#45;destination &lt;destination&gt;</p>-->
                                        <!--<p><span class="c"># =&gt; 当前文件夹中的内容将会生成到目标文件夹&lt;destination&gt;中。</span></p>-->
                                        <!--<p><span class="gp">$ </span>jekyll build &#45;&#45;source &lt;<span class="nb">source</span>&gt; &#45;&#45;destination &lt;destination&gt;</p>-->
                                        <!--<p><span class="c"># =&gt; 指定源文件夹&lt;source&gt;中的内容将会生成到目标文件夹&lt;destination&gt;中。</span></p>-->
                                        <!--<p><span class="gp">$ </span>jekyll build &#45;&#45;watch</p>-->
                                        <!--<p><span class="c"># =&gt; 当前文件夹中的内容将会生成到 ./_site 文件夹中，</span></p>-->
                                        <!--<p><span class="c">#    查看改变，并且自动再生成。</span></p>-->
                                    <!--</blockquote>-->
                                    <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>jekyll build
<span class="c"># =&gt; 当前文件夹中的内容将会生成到 ./_site 文件夹中。</span>

<span class="gp">$ </span>jekyll build --destination &lt;destination&gt;
<span class="c"># =&gt; 当前文件夹中的内容将会生成到目标文件夹&lt;destination&gt;中。</span>

<span class="gp">$ </span>jekyll build --source &lt;<span class="nb">source</span>&gt; --destination &lt;destination&gt;
<span class="c"># =&gt; 指定源文件夹&lt;source&gt;中的内容将会生成到目标文件夹&lt;destination&gt;中。</span>

<span class="gp">$ </span>jekyll build --watch
<span class="c"># =&gt; 当前文件夹中的内容将会生成到 ./_site 文件夹中，</span>
<span class="c">#    查看改变，并且自动再生成。</span></code></pre></figure>
                                    <div class="note info">
                                        <p>在自动构建过程中对 _config.yml 的修改将不会被包含其中。</p>
                                        <p>
                                            <code>_config.yml</code> 管理包含全局配置和变量定义在内的配置文件
                                            并且这些变量定义在执行时会被读取. 所有 <code>_config.yml</code> 中的改动
                                            在自动构建过程中，都不会被加载直到下一次执行开始。
                                        </p>
                                        <p>
                                            注意 <a href="http://jekyllcn.com/docs/datafiles/">Data Files</a> 在自动构建过程中会被包含和加载。
                                        </p>
                                    </div>
                                    <div class="note warning">
                                        <p>Destination 文件夹会在站点建立时被清理</p>
                                        <p>
                                            <code>&lt;destination&gt;</code> 的内容默认在站点建立时会被自动清理。不是你创建的文件和文件夹会被删除。你想在 <code>&lt;destination&gt;</code> 保留的文件和文件夹应在 <code>&lt;keep_files&gt;</code> 里指定。
                                        </p>
                                        <p>
                                            不要把<code>&lt;destination&gt;</code> 设置到重要的路径上，而应该把它作为一个暂存区域,从那里复制文件到您的web服务器。
                                        </p>
                                    </div>

                                    <p>Jekyll 同时也集成了一个开发用的服务器，可以让你使用浏览器在本地进行预览。</p>
                                    <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>jekyll serve
<span class="c"># =&gt; 一个开发服务器将会运行在 http://localhost:4000/</span>
<span class="c"># Auto-regeneration（自动再生成文件）: 开启。使用 `--no-watch` 来关闭。</span>

<span class="gp">$ </span>jekyll serve --detach
<span class="c"># =&gt; 功能和`jekyll serve`命令相同，但是会脱离终端在后台运行。</span>
<span class="c">#    如果你想关闭服务器，可以使用`kill -9 1234`命令，"1234" 是进程号（PID）。</span>
<span class="c">#    如果你找不到进程号，那么就用`ps aux | grep jekyll`命令来查看，然后关闭服务器。[更多](http://unixhelp.ed.ac.uk/shell/jobz5.html).</span></code></pre></figure>

                                </div>
                            </article>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>